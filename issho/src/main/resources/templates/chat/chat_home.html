<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
<th:block th:replace="fragments/config :: head"></th:block>

<style>
header {
	height: 75px;
	padding: 1rem;
	color: white;
	background: #4e73df;
	font-weight: bold;
	display: flex;
	justify-content: space-between;
	align-items: center;
}

.eachRoom {
	height: 100px;
}

#search {
	padding: 20px;
}
</style>

</head>

<body>
	<header>
		<div id="title">
			<h3>메신저</h3>

		</div>

		<button type="button" class="btn btn-light btn-lg"
			onclick="openNewChat();">+</button>

	</header>
	<table class="table table-hover">
		<tr th:each="list : ${list}" th:id="${list.chatroom_seq}"
			ondblclick="openChat(id)">

			<td class="eachRoom">

				<h3>[[${list.chatroom_name}]]</h3>

				<h4 th:each="msg : ${msg}"
					th:if="${list.chatroom_seq} == ${msg.chatroom_seq}">
					[[${msg.chatmsg_content}]] [[${msg.chatmsg_sendDate}]]</h4>

			</td>
		</tr>
	</table>


</body>


<script>
	function openNewChat() {
		window.open("multiRoom/newChat?domain=[[${project.prj_domain}]]",
				"채팅방 오픈", "width=500, height=550, top=30, left=30");
	}

	function openChat(id) {

		location.href = "room?roomid=" + id;

	}
</script>
</html>